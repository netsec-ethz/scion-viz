<!DOCTYPE html>
<html lang="en">
<head>
<!--
 * Copyright 2016 ETH Zurich
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->
<meta charset="utf-8">
<style>
html, body {
 height: 100%;
}

#divBody {
 height: 100%;
 min-height: 100%;
}

#divInst {
 float: left;
 width: 65%;
 height: 20%;
}

#divInstList {
 height: 100%;
 overflow: auto;
}

#divConfig {
 float: right;
 width: 30%;
 height: 20%;
 border: 1px solid gray;
 padding: 5px;
}

#divConfigList {
 height: 100%;
 overflow: auto;
}

#divMap {
 overflow: hidden;
 position: relative;
 width: 100%;
 height: 40%;
}

#interactiveMap {
 position: absolute;
 width: 100%;
 height: 100%;
}

#TopologyGraph {
 overflow: auto;
 position: absolute;
 width: 100%;
 height: 100%;
}

#divStats {
 float: left;
 width: 100%;
 height: 40%;
}

#divStatsWidget {
 overflow: auto;
 height: 100%;
}

table {
 border-collapse: collapse;
 border: 1px solid black;
}

th {
 text-align: left;
 border: 1px solid black;
}

td:first-child {
 text-align: left;
 font-weight: bold;
}

td {
 text-align: right;
 padding-right: 5px;
 padding-left: 5px;
}

tr:nth-child(even) {
 background-color: #66CCFF
}

.datamaps-legend dt, .datamaps-legend dd {
 float: none;
}

.datamaps-legend {
 right: -50px;
 top: 0;
}

.link {
 fill: none;
 stroke: #666;
 stroke-width: 1.5px;
}

#ROUTING {
 fill: green;
}

.link.ROUTING {
 stroke-width: 5.5px;
}

.link.PEER {
 stroke-dasharray: 0, 2 1;
}

circle {
 fill: #ccc;
 stroke: #333;
 stroke-width: 1.5px;
}

text {
 font: 13px sans-serif;
 pointer-events: none;
 text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;
}

.nodes.ROUTING {
 stroke-width: 2.5px;
}

.link.SELECTED {
 stroke: red;
}

#tabs {
 font-size: 14px;
}

.tabs li {
 list-style: none;
 display: inline;
}

.tabs a {
 padding: 5px 10px;
 display: inline-block;
 background: #666;
 color: #fff;
 text-decoration: none;
 border: 1px solid #66CCFF;
}

.tabs a.active {
 background: #fff;
 color: #000;
 font-weight: bold;
}
</style>
<link rel="stylesheet" href="css/jquery-ui.min.css">
<script src="js/jquery-2.2.0.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="js/d3.min.js"></script>
<script src="js/topojson.min.js"></script>
<script src="js/datamaps.world.hires.min.js"></script>
<script src="data/map-data.js"></script>
<script src="./networking.js"></script>
<script src="./tab-topoweb.js"></script>
<script src="./tab-location.js"></script>
<script src="./main.js"></script>
</head>
<body>
 <div id="divBody">
  <div id="divInst">
   <span style="font-weight: bold;">Instructions:</span><br>
   <div id="divInstList">
    <ul>
     <li><span style="font-weight: bold;">Map Scroll:</span> Click
      and drag the map to the desired position.</li>
     <li><span style="font-weight: bold;">Map Zoom:</span> Position
      cursor to desired zoom point and use a scroll wheel to zoom.</li>
     <li><span style="font-weight: bold;">Path Select:</span> Click
      the desired URL below and change the Path radio button.</li>
     <li><span style="font-weight: bold;">Topology
       Orientation:</span> Click and drag any node to the desired position.</li>
    </ul>
   </div>
  </div>
  <div id="divConfig">
   <span style="font-weight: bold;">Configuration:</span><br> <br>
   <div id="divConfigList">
    <div>
     ISD Whitelist:<br /> <input type="checkbox" id="ckbCheckAllIsd" /><label>All
      ISDs</label> <br />
     <div id="checkBoxesIsd"></div>
    </div>
    <p></p>
    <div>
     <input id="connect" value="Reconnect UDP" type="button"> <input
      id="get_urls" value="Update Stats" type="button"> <input
      id="clear_urls" value="Clear Stats" type="button">
    </div>
   </div>
  </div>
  <div id="divMap">
   <ul class='tabs'>
    <li><a href='#tabLocation'>Location</a></li>
    <li><a href='#tabTopology'>Topology</a></li>
   </ul>
   <div id='tabLocation'>
    <div id="interactiveMap"></div>
   </div>
   <div id='tabTopology'>
    <div id="TopologyGraph"></div>
   </div>
  </div>
  <div id="divStats">
   <span style="font-weight: bold;">Socket Proxy Data:</span><br>
   <div id="divResume" style="display: none;">
    <p>Now, after updating the ISD Whitelist, please refresh your
     browser pages to allow packets to traverse the new network
     configuration. Then, close this window and reopen it to see the new
     proxy results.</p>
    <input id="resume" value="Resume Proxy Stats" type="button"
     style="display: none;">
   </div>
   <div id="divStatsWidget" class="urlStatsWidget"></div>
  </div>
 </div>
</body>
</html>
